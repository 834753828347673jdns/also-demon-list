<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ALSO GDPS Demon List</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  
  <div id="sidebar" class="sidebar">
    <button class="close-btn" id="close-sidebar">&times;</button>
    <div class="sidebar-content">
        <h3 class="menu-title">Menu</h3>
        <button class="tab-button sidebar-button" data-tab="news">
            <span class="highlight-icon">📰</span> News
        </button>
        
        <a href="https://www.tiktok.com/@kosmos_official.com" target="_blank" style="text-decoration:none;">
            <button class="sidebar-button" style="border-color:#ffcc00;">
                <span class="highlight-icon">🎵</span> KosmosTT TikTok
            </button>
        </a>
        <a href="https://t.me/KosmosTGCAlsoGDPS" target="_blank" style="text-decoration:none;">
            <button class="sidebar-button" style="border-color:#ffcc00;">
                <span class="highlight-icon">⭐</span> KosmosTT Telegram
            </button>
        </a>
    </div>
  </div>

  <header>
    <h1>ALSO GDPS Demon List</h1>
    <p class="author">Created by <span class="highlight">KosmosTT</span> • Designed by <span class="highlight">PERFARATARRRRRR</span></p>
    
    <button class="hamburger" id="open-sidebar">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
    </button>
  </header>

  <nav>
    <button class="tab-button active" data-tab="demon-list">Demon List</button>
    <button class="tab-button" data-tab="impossible">Impossible List</button>
    <button class="tab-button" data-tab="in-progress">In Progress / Unverified</button>
  </nav>

  <main class="tab-content demon-list active">
    <div class="card top1" data-id="312" data-author="MWMWM" data-length="26 s (actual), bugged → 2:15 (XL)" data-title="SCITZOPHRENIA">
      <img src="scitzophrenia.jpg" alt="SCITZOPHRENIA" />
      <div class="info"><h2>#1 SCITZOPHRENIA</h2></div>
    </div>

    <div class="card top2" data-id="254" data-author="PERFARATARRRRRR" data-length="3:19 (XL)" data-title="SEEK & DESTROY">
      <img src="seek_and_destroy.jpg" alt="SEEK & DESTROY" />
      <div class="info"><h2>#2 SEEK & DESTROY</h2></div>
    </div>

    <div class="card top3" data-id="211" data-author="EvenTencid" data-length="1:00 (Long)" data-title="ACFACTORY">
      <img src="acfactory.jpg" alt="ACFACTORY" />
      <div class="info"><h2>#3 ACFACTORY</h2></div>
    </div>

    <div class="card" data-id="147" data-author="KosmosTT" data-length="0:36 (Medium)" data-title="MAYMORY">
      <img src="maymory.jpg" alt="MAYMORY" />
      <div class="info"><h2>#4 MAYMORY</h2></div>
    </div>

    <div class="card" data-id="279" data-author="kirill0gd" data-length="1:39 (Long)" data-title="BLOODBATH">
      <img src="bloodbath.jpg" alt="BLOODBATH" />
      <div class="info"><h2>#5 BLOODBATH</h2></div>
    </div>

    <div class="card" data-id="168" data-author="KosmosTT" data-length="0:33 (Medium)" data-title="LAVA BOUNCE">
      <img src="lava_bounce.jpg" alt="LAVA BOUNCE" />
      <div class="info"><h2>#6 LAVA BOUNCE</h2></div>
    </div>
  </main>

  <main class="tab-content in-progress">
    
    <div class="card" data-id="—" data-author="PERFARATARRRRRR" data-length="Unknown" data-title="LITHIUM">
      <img src="lithium.jpg" alt="LITHIUM" />
      <div class="info"><h2>LITHIUM (In Progress)</h2></div>
    </div>

    <div class="card" data-id="—" data-author="Burda5800gd" data-length="1:07 (Long)" data-title="ALSO ANATHEMA">
      <img src="also anathema.jpg" alt="ALSO ANATHEMA" />
      <div class="info"><h2>ALSO ANATHEMA (In Progress)</h2></div>
    </div>
    
    <div class="card" data-id="—" data-author="Vasekk Hardy" data-length="Unknown" data-title="DEPRESSION">
      <img src="depression.jpg" alt="DEPRESSION" />
      <div class="info"><h2>DEPRESSION (In Progress)</h2></div>
    </div>

    <div class="card" data-id="—" data-author="Depperens" data-length="Unknown" data-title="XPEH 3HAET">
      <img src="xpeh3haet.jpg" alt="XPEH 3HAET" />
      <div class="info"><h2>XPEH 3HAET (In Progress)</h2></div>
    </div>
    
  </main>

  <main class="tab-content impossible">
        <div class="card imp-top1" data-id="—" data-author="MWMWM" data-length="2:01 (XL)" data-title="CATASTROPHIC NIGHT">
      <img src="catastrophic_night.jpg" alt="CATASTROPHIC NIGHT" />
      <div class="info"><h2>#1 CATASTROPHIC NIGHT</h2></div>
    </div>

    <div class="card imp-top2" data-id="—" data-author="KosmosTT" data-length="3:21 (XL)" data-title="BLOODLUST (ALSO REMAKE)">
      <img src="bloodlust_also.jpg" alt="BLOODLUST (ALSO REMAKE)" />
      <div class="info"><h2>#2 BLOODLUST (ALSO REMAKE)</h2></div>
    </div>

    <div class="card" data-id="—" data-author="PERFARATARRRRRR" data-length="4:12 (XL)" data-title="THE REALISTIC">
      <img src="the_realistic.jpg" alt="THE REALISTIC" />
      <div class="info"><h2>#3 THE REALISTIC</h2></div>
    </div>
      </main>

  <main class="tab-content news">
    <h2>News & Updates</h2>
    <div class="update-entry">
      <h3>[07.10.2025] Обновление функционала и навигации</h3>
      <ul>
        <li>**Навигация:** Изменен порядок вкладок (`Impossible List` теперь перед `In Progress`).</li>
        <li>**Контент:** Добавлен уровень **XPEH 3HAET** (Depperens) в `In Progress`.</li>
        <li>**UX/UI:** Добавлен **динамический цвет** Гамбургер-меню (☰) в зависимости от режима, а также **динамический glow** для заголовка.</li>
        <li>**UX:** Добавлена кнопка **"Back to Top"** (Наверх) для удобства.</li>
        <li>**Обновление:** Добавлены ссылки на **Telegram** и **TikTok** KosmosTT в Sidebar.</li>
        <li>**Удалено:** Удален функционал "Ссылка на видео" и вкладка "Rules".</li>
      </ul>
    </div>
    <div class="update-entry soon">
        <p>Больше новостей скоро...</p>
    </div>
  </main>

  <footer>
    <p>© 2025 ALSO GDPS • Created by KosmosTT • Designed by PERFARATARRRRRR</p>
  </footer>

  <button id="back-to-top" title="Go to top">↑</button>

  <div id="modal" class="modal">
    <div class="modal-content">
      <span id="close">&times;</span>
      <h2 id="modal-title"></h2>
      <p><strong>ID:</strong> <span id="modal-id"></span></p>
      <button id="copy-btn">Copy ID</button>
      <p><strong>Author:</strong> <span id="modal-author"></span></p>
      <p><strong>Length:</strong> <span id="modal-length"></span></p>
      
      <p id="copied-msg">Copied!</p>
    </div>
  </div>

  <script>
    // --- Modal logic ---
    const cards = document.querySelectorAll(".card");
    const modal = document.getElementById("modal");
    const closeBtn = document.getElementById("close");
    const title = document.getElementById("modal-title");
    const id = document.getElementById("modal-id");
    const author = document.getElementById("modal-author");
    const length = document.getElementById("modal-length");
    const copyBtn = document.getElementById("copy-btn");
    const copiedMsg = document.getElementById("copied-msg");

    cards.forEach(card => {
      card.addEventListener("click", () => {
        title.textContent = card.dataset.title;
        let cardId = card.dataset.id;
        
        // Установка ID (меняем "—" на N/A)
        id.textContent = (cardId === "—") ? "N/A (Unknown)" : cardId;
        author.textContent = card.dataset.author;
        length.textContent = card.dataset.length;
        
        // Логика кнопки Copy ID (не копируем, если ID не существует)
        if (cardId === "—") {
            copyBtn.style.opacity = '0.4';
            copyBtn.style.cursor = 'default';
        } else {
            copyBtn.style.opacity = '1';
            copyBtn.style.cursor = 'pointer';
        }

        modal.classList.add("show");
      });
    });

    closeBtn.addEventListener("click", () => modal.classList.remove("show"));
    modal.addEventListener("click", (e) => {
      if (e.target === modal) modal.classList.remove("show");
    });

    copyBtn.addEventListener("click", () => {
      if (id.textContent !== "N/A (Unknown)") {
        navigator.clipboard.writeText(id.textContent);
        copiedMsg.classList.add("visible");
        setTimeout(() => copiedMsg.classList.remove("visible"), 1000);
      }
    });

    // --- Back to Top Logic ---
    const backToTopBtn = document.getElementById("back-to-top");

    window.onscroll = function() {scrollFunction()};

    function scrollFunction() {
      if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
        backToTopBtn.style.display = "block";
      } else {
        backToTopBtn.style.display = "none";
      }
    }

    backToTopBtn.addEventListener("click", () => {
      document.body.scrollTop = 0; 
      document.documentElement.scrollTop = 0; 
    });


    // --- Tabs & Sidebar Logic (включая динамический гамбургер) ---
    const tabButtons = document.querySelectorAll(".tab-button");
    const sidebarButtons = document.querySelectorAll(".sidebar-button");
    const allButtons = [...tabButtons, ...sidebarButtons]; 
    const tabs = document.querySelectorAll(".tab-content");
    const body = document.body; 
    const sidebar = document.getElementById("sidebar");
    const openSidebarBtn = document.getElementById("open-sidebar");
    const closeSidebarBtn = document.getElementById("close-sidebar");
    const hamburgerBars = document.querySelectorAll(".hamburger .bar");
    const mainTitle = document.querySelector('h1');

    // Функция для обновления цвета гамбургера
    function updateHamburgerColor(mode) {
      let color = '#c000ff'; 
      let shadow = '0 0 5px #c000ff';

      if (mode === 'impossible') {
        color = '#ff0000'; 
        shadow = '0 0 5px #ff0000';
        mainTitle.style.animationName = 'glow-imp';
      } else if (mode === 'progress') {
        color = '#b0b0b0';
        shadow = '0 0 5px #b0b0b0';
        mainTitle.style.animationName = 'glow-prog';
      } else {
        mainTitle.style.animationName = 'glow';
      }

      hamburgerBars.forEach(bar => {
        bar.style.backgroundColor = color;
        bar.style.boxShadow = shadow;
      });
    }

    // Логика открытия/закрытия бокового меню
    openSidebarBtn.addEventListener("click", () => {
        sidebar.classList.add("open");
    });
    closeSidebarBtn.addEventListener("click", () => {
        sidebar.classList.remove("open");
    });

    // Логика переключения вкладок
    allButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        
        document.querySelectorAll('button.active').forEach(b => b.classList.remove("active"));
        tabs.forEach(t => t.classList.remove("active"));
        
        btn.classList.add("active"); 
        
        let targetTab = btn.dataset.tab;
        if (targetTab) {
            // Fix: Для "Impossible List" и "In Progress" используем grid
            if (targetTab === "impossible" || targetTab === "in-progress" || targetTab === "demon-list") {
                document.querySelector(`.tab-content.${targetTab}`).style.display = 'grid';
            }
            document.querySelector(`.${targetTab}`).classList.add("active");
        }


        // Если нажали на кнопку в sidebar, закрываем его
        if (btn.classList.contains("sidebar-button")) {
        	sidebar.classList.remove("open");
        	// Делаем активной кнопку "Demon List" на основной панели для чистоты (если не выбрана NEWS)
        	if (targetTab !== 'news') {
            	document.querySelector('.tab-button[data-tab="demon-list"]').classList.remove("active");
        	}
        }


        // 3. Динамическая смена фона 
        body.classList.remove("impossible-mode", "progress-mode"); 

        let currentMode = '';
        if (targetTab === "impossible") {
          body.classList.add("impossible-mode");
          currentMode = 'impossible';
        } else if (targetTab === "in-progress") {
          body.classList.add("progress-mode");
          currentMode = 'progress';
        }
        updateHamburgerColor(currentMode);
      });
    });

    // Устанавливаем цвет гамбургера при загрузке страницы
    document.addEventListener('DOMContentLoaded', () => {
      const activeTab = document.querySelector('.tab-button.active');
      if (activeTab) {
        let initialMode = '';
        if (activeTab.dataset.tab === 'impossible') {
          initialMode = 'impossible';
        } else if (activeTab.dataset.tab === 'in-progress') {
          initialMode = 'progress';
        }
        updateHamburgerColor(initialMode);
      }
    });

  </script>
</body>
</html>
