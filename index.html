<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ALSO GDPS Demon List</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- SIDEBAR -->
  <aside id="sidebar" class="sidebar" aria-hidden="true">
    <button id="close-sidebar" class="close-btn" aria-label="Close menu">&times;</button>
    <div class="sidebar-content" role="menu">
      <h3 class="menu-title">Menu</h3>

      <button class="sidebar-button" data-tab="news" role="menuitem">
        <span class="highlight-icon">üì∞</span> News
      </button>

      <a href="https://www.tiktok.com/@kosmos_official.com" target="_blank" rel="noopener" class="sidebar-link">
        <button class="sidebar-button gold">
          <span class="highlight-icon">üéµ</span> KosmosTT TikTok
        </button>
      </a>

      <a href="https://t.me/KosmosTGCAlsoGDPS" target="_blank" rel="noopener" class="sidebar-link">
        <button class="sidebar-button gold">
          <span class="highlight-icon">‚≠ê</span> KosmosTT Telegram
        </button>
      </a>
    </div>
  </aside>

  <!-- HEADER -->
  <header class="site-header">
    <button id="open-sidebar" class="hamburger" aria-label="Open menu" aria-expanded="false">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>

    <div class="title-wrap">
      <h1 class="site-title">ALSO GDPS Demon List</h1>
      <p class="author">Created by <span class="highlight">KosmosTT</span> ‚Ä¢ Designed by <span class="highlight">PERFARATARRRRRR</span></p>
    </div>
  </header>

  <!-- NAV -->
  <nav class="tabs" role="tablist" aria-label="Site sections">
    <button class="tab-button active" data-tab="demon-list" role="tab" aria-selected="true">Demon List</button>
    <button class="tab-button" data-tab="impossible" role="tab" aria-selected="false">Impossible List</button>
    <button class="tab-button" data-tab="in-progress" role="tab" aria-selected="false">In Progress / Unverified</button>
    <button class="tab-button" data-tab="news" role="tab" aria-selected="false">News</button>
  </nav>

  <!-- CONTENT: Demon List -->
  <main id="demon-list" class="tab-content grid active" role="main">
    <article class="card top1" data-id="312" data-author="MWMWM" data-length="26 s (actual), bugged ‚Üí 2:15 (XL)" data-title="SCITZOPHRENIA" tabindex="0">
      <img src="scitzophrenia.jpg" alt="SCITZOPHRENIA preview" loading="lazy" />
      <div class="info"><h2>#1 SCITZOPHRENIA</h2></div>
    </article>

    <article class="card top2" data-id="254" data-author="PERFARATARRRRRR" data-length="3:19 (XL)" data-title="SEEK & DESTROY" tabindex="0">
      <img src="seek_and_destroy.jpg" alt="SEEK & DESTROY preview" loading="lazy" />
      <div class="info"><h2>#2 SEEK & DESTROY</h2></div>
    </article>

    <article class="card top3" data-id="211" data-author="EvenTencid" data-length="1:00 (Long)" data-title="ACFACTORY" tabindex="0">
      <img src="acfactory.jpg" alt="ACFACTORY preview" loading="lazy" />
      <div class="info"><h2>#3 ACFACTORY</h2></div>
    </article>

    <article class="card" data-id="147" data-author="KosmosTT" data-length="0:36 (Medium)" data-title="MAYMORY" tabindex="0">
      <img src="maymory.jpg" alt="MAYMORY preview" loading="lazy" />
      <div class="info"><h2>#4 MAYMORY</h2></div>
    </article>

    <article class="card" data-id="279" data-author="kirill0gd" data-length="1:39 (Long)" data-title="BLOODBATH" tabindex="0">
      <img src="bloodbath.jpg" alt="BLOODBATH preview" loading="lazy" />
      <div class="info"><h2>#5 BLOODBATH</h2></div>
    </article>

    <article class="card" data-id="168" data-author="KosmosTT" data-length="0:33 (Medium)" data-title="LAVA BOUNCE" tabindex="0">
      <img src="lava_bounce.jpg" alt="LAVA BOUNCE preview" loading="lazy" />
      <div class="info"><h2>#6 LAVA BOUNCE</h2></div>
    </article>
  </main>

  <!-- CONTENT: Impossible List (–∑–¥–µ—Å—å –∑–∞–∫–æ–Ω—á–µ–Ω–Ω—ã–π —Ç–æ–ø) -->
  <section id="impossible" class="tab-content grid" aria-hidden="true">
    <!-- Top impossible list in ranked order -->
    <article class="card top1" data-id="212" data-author="guestlolslayer" data-length="44 s (Medium)" data-title="close the window" tabindex="0">
      <img src="closethewindow.jpg" alt="close the window preview" loading="lazy" />
      <div class="info"><h2>#1 close the window</h2></div>
    </article>

    <article class="card top2" data-id="313" data-author="TheMiron341" data-length="40 s (Medium)" data-title="Silent Circles" tabindex="0">
      <img src="silentcircles.jpg" alt="Silent Circles preview" loading="lazy" />
      <div class="info"><h2>#2 Silent Circles</h2></div>
    </article>

    <article class="card top3" data-id="259" data-author="cherviteam" data-length="20 s (Short)" data-title="uolol" tabindex="0">
      <img src="uolol.jpg" alt="uolol preview" loading="lazy" />
      <div class="info"><h2>#3 uolol</h2></div>
    </article>

    <article class="card" data-id="262" data-author="cherviteam" data-length="1:19 (Long)" data-title="vv gameram 2" tabindex="0">
      <img src="v v gameram2.jpg" alt="vv gameram 2 preview" loading="lazy" />
      <div class="info"><h2>#4 vv gameram 2</h2></div>
    </article>

    <article class="card" data-id="233" data-author="TheMiron341" data-length="4:57 (XL)" data-title="t3st 666" tabindex="0">
      <img src="t3st666.jpg" alt="t3st 666 preview" loading="lazy" />
      <div class="info"><h2>#5 t3st 666</h2></div>
    </article>
  </section>

  <!-- CONTENT: In Progress / Unverified -->
  <section id="in-progress" class="tab-content grid" aria-hidden="true">
    <article class="card" data-id="‚Äî" data-author="PERFARATARRRRRR" data-length="Unknown" data-title="LITHIUM (In Progress)" tabindex="0">
      <img src="lithium.jpg" alt="LITHIUM preview" loading="lazy" />
      <div class="info"><h2>LITHIUM (In Progress)</h2></div>
    </article>

    <article class="card" data-id="‚Äî" data-author="Burda5800gd" data-length="1:07 (Long)" data-title="ALSO ANATHEMA (In Progress)" tabindex="0">
      <img src="also anathema.jpg" alt="ALSO ANATHEMA preview" loading="lazy" />
      <div class="info"><h2>ALSO ANATHEMA (In Progress)</h2></div>
    </article>

    <article class="card" data-id="‚Äî" data-author="Vasekk Hardy" data-length="Unknown" data-title="DEPRESSION (In Progress)" tabindex="0">
      <img src="depression.jpg" alt="DEPRESSION preview" loading="lazy" />
      <div class="info"><h2>DEPRESSION (In Progress)</h2></div>
    </article>

    <article class="card" data-id="‚Äî" data-author="Depperens" data-length="Unknown" data-title="XPEH 3HAET (In Progress)" tabindex="0">
      <img src="xpeh3haet.jpg" alt="XPEH 3HAET preview" loading="lazy" />
      <div class="info"><h2>XPEH 3HAET (In Progress)</h2></div>
    </article>
  </section>

  <!-- CONTENT: News -->
  <section id="news" class="tab-content" aria-hidden="true">
    <h2>News &amp; Updates</h2>
    <div class="update-entry">
      <h3>[07.10.2025] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏</h3>
      <ul>
        <li>–ù–∞–≤–∏–≥–∞—Ü–∏—è: –ø–æ—Ä—è–¥–æ–∫ –≤–∫–ª–∞–¥–æ–∫ –∏–∑–º–µ–Ω—ë–Ω.</li>
        <li>–ö–æ–Ω—Ç–µ–Ω—Ç: –¥–æ–±–∞–≤–ª–µ–Ω—ã —É—Ä–æ–≤–Ω–∏ –≤ Impossible List.</li>
        <li>UX/UI: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≥–∞–º–±—É—Ä–≥–µ—Ä –∏ —Ä–µ–∂–∏–º—ã (Impossible / In Progress).</li>
        <li>Back to Top: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞.</li>
      </ul>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <p>¬© 2025 ALSO GDPS ‚Ä¢ Created by KosmosTT ‚Ä¢ Designed by PERFARATARRRRRR</p>
  </footer>

  <!-- BACK TO TOP -->
  <button id="back-to-top" aria-label="Back to top">‚Üë</button>

  <!-- MODAL -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="modal-title" tabindex="-1">
    <div class="modal-content">
      <button id="close" class="modal-close" aria-label="Close">&times;</button>
      <h2 id="modal-title"></h2>

      <div class="modal-row"><strong>ID:</strong> <span id="modal-id"></span></div>
      <button id="copy-btn" class="copy-btn">Copy ID</button>
      <div class="modal-row"><strong>Author:</strong> <span id="modal-author"></span></div>
      <div class="modal-row"><strong>Length:</strong> <span id="modal-length"></span></div>
      <div id="copied-msg" class="copied">Copied!</div>
    </div>
  </div>

  <!-- JS -->
  <script>
    (function () {
      // Helpers & cached nodes
      const body = document.body;
      const tabs = Array.from(document.querySelectorAll('.tab-button'));
      const tabContents = Array.from(document.querySelectorAll('.tab-content'));
      const sidebar = document.getElementById('sidebar');
      const openSidebarBtn = document.getElementById('open-sidebar');
      const closeSidebarBtn = document.getElementById('close-sidebar');
      const hamburger = openSidebarBtn;
      const bars = document.querySelectorAll('.hamburger .bar');
      const cardsContainer = document; // use event delegation
      const modal = document.getElementById('modal');
      const modalTitle = document.getElementById('modal-title');
      const modalId = document.getElementById('modal-id');
      const modalAuthor = document.getElementById('modal-author');
      const modalLength = document.getElementById('modal-length');
      const copyBtn = document.getElementById('copy-btn');
      const copiedMsg = document.getElementById('copied-msg');
      const closeModalBtn = document.getElementById('close');
      const backToTop = document.getElementById('back-to-top');

      // Open/close sidebar
      function setSidebar(open) {
        sidebar.classList.toggle('open', open);
        sidebar.setAttribute('aria-hidden', !open);
        hamburger.setAttribute('aria-expanded', open);
      }
      openSidebarBtn.addEventListener('click', () => setSidebar(true));
      closeSidebarBtn.addEventListener('click', () => setSidebar(false));
      // Close sidebar by clicking outside
      document.addEventListener('click', (e) => {
        if (!sidebar.contains(e.target) && !openSidebarBtn.contains(e.target)) setSidebar(false);
      });

      // Tab switching
      function switchTab(target) {
        tabs.forEach(t => {
          const isActive = t.dataset.tab === target;
          t.classList.toggle('active', isActive);
          t.setAttribute('aria-selected', isActive ? 'true' : 'false');
        });
        tabContents.forEach(c => {
          const shouldShow = c.id === target;
          c.classList.toggle('active', shouldShow);
          c.setAttribute('aria-hidden', !shouldShow);
        });

        // update body mode
        body.classList.remove('impossible-mode', 'progress-mode');
        if (target === 'impossible') body.classList.add('impossible-mode');
        if (target === 'in-progress') body.classList.add('progress-mode');

        // update hamburger color
        updateHamburgerColor(target);
      }

      tabs.forEach(btn => btn.addEventListener('click', () => {
        switchTab(btn.dataset.tab);
        setSidebar(false);
      }));

      // Sidebar internal buttons also switch tabs
      sidebar.addEventListener('click', (e) => {
        const btn = e.target.closest('[data-tab]');
        if (!btn) return;
        const tab = btn.dataset.tab;
        if (tab) switchTab(tab);
        setSidebar(false);
      });

      // Update hamburger (bar) color based on mode
      function updateHamburgerColor(mode) {
        let color = '#c000ff', shadow = '0 0 5px #c000ff';
        if (mode === 'impossible') { color = '#ff0000'; shadow = '0 0 5px #ff0000'; }
        if (mode === 'in-progress') { color = '#b0b0b0'; shadow = '0 0 5px #b0b0b0'; }
        bars.forEach(b => { b.style.backgroundColor = color; b.style.boxShadow = shadow; });
      }
      // init
      updateHamburgerColor(document.querySelector('.tab-button.active').dataset.tab);

      // Event delegation for cards (open modal)
      cardsContainer.addEventListener('click', (e) => {
        const card = e.target.closest('.card');
        if (!card) return;
        openCardModal(card);
      });

      // keyboard interaction: Enter on focused card opens modal
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && document.activeElement && document.activeElement.classList.contains('card')) {
          openCardModal(document.activeElement);
        }
      });

      function openCardModal(card) {
        modalTitle.textContent = card.dataset.title || 'No title';
        modalId.textContent = (card.dataset.id && card.dataset.id !== '‚Äî') ? card.dataset.id : 'N/A (Unknown)';
        modalAuthor.textContent = card.dataset.author || 'Unknown';
        modalLength.textContent = card.dataset.length || 'Unknown';
        modal.classList.add('show');
        modal.setAttribute('aria-hidden', 'false');
        // focus the modal for accessibility
        modal.focus();
      }

      // close modal
      function closeModal() {
        modal.classList.remove('show');
        modal.setAttribute('aria-hidden', 'true');
      }
      closeModalBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeModal(); });

      // Copy ID
      copyBtn.addEventListener('click', async () => {
        const text = modalId.textContent;
        if (!text || text.startsWith('N/A')) return;
        try {
          await navigator.clipboard.writeText(text);
          copiedMsg.classList.add('visible');
          setTimeout(() => copiedMsg.classList.remove('visible'), 1100);
        } catch (err) {
          // fallback: select text
          console.warn('Clipboard write failed', err);
        }
      });

      // Back to top
      window.addEventListener('scroll', () => {
        backToTop.style.display = (window.scrollY > 500) ? 'block' : 'none';
      });
      backToTop.addEventListener('click', () => { window.scrollTo({ top: 0, behavior: 'smooth' }); });

      // small improvement: handle image load error (show placeholder)
      document.querySelectorAll('img').forEach(img => {
        img.addEventListener('error', () => {
          img.src = 'placeholder.png'; // optional: add placeholder.png to repo or leave
        });
      });

    })();
  </script>
</body>
</html>
